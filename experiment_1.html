<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ロボット感情表現実験</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="progress-bar-container">
        <div class="progress-bar"></div>
    </div>
    <div class="progress-text">
        <span id="current-set">1</span> / <span id="total-sets">10</span>
    </div>
    
    <div class="back-button-container">
        <button id="back-button">戻る</button>
    </div>

    <h1>ロボット感情表現実験</h1>
    <p>このロボットの目が「<span id="emotion-text" class="emotion-text-bold">googleフォームに記載している感情</span>」を表現するように設定してください。</p>
    <div class="timer-container" id="timer-container">
        <span id="timer-display">00:00</span>
    </div>

    <div class="end-button-container" id="end-button-container">
        <button id="end-button" style="display: none;">選択を終える</button>
    </div>

    <div class="container">
        <div class="robot">
            <div class="eyes">
                <div class="eye">
                    <div class="led" id="left-eye-led"></div>
                </div>
                <div class="eye">
                    <div class="led" id="right-eye-led"></div>
                </div>
            </div>
        </div>

        <div class="controls">
            <div class="control-group">
                <label for="color">色</label>
                <div class="color-options">
                    </div>
            </div>
            <hr>
            <div class="control-group">
                <label for="pattern">発光パターン</label>
                <select id="pattern" onchange="setPattern()">
                    <option value="step-blink">点滅（チカチカ）</option>
                    <option value="fade-blink">点滅（滑らか）</option>
                    <option value="rotate">回転（回転方向一致）</option>
                    <option value="asymmetric-rotate">回転（回転方向不一致）</option>
                    <option value="split-drop">下へ流れる</option>
                    <option value="split-up">上へ流れる</option>
                </select>
            </div>
            <hr>
            <div class="control-group">
                <label for="intensity">速さ (<span id="intensity-value">5</span>)</label>
                <input type="range" id="intensity" min="1" max="10" value="5" oninput="setIntensity()">
            </div>
        </div>
    </div>
    
    <div id="results-page" style="display: none;">
        <h2>設定結果</h2>
        <p>・選択した色：<span id="result-color"></span></p>
        <p>・選択した発光パターン：<span id="result-pattern"></span></p>
        <p>・選択した速さ：<span id="result-intensity"></span></p>
        
        <button id="next-task-button">次のタスクへ</button>
    </div>

    <div id="final-page" style="display: none;">
        <h2>ご協力ありがとうございました。</h2>
        <p>Googleフォームで以下のパスワードを入力してください。</p>
        <p></p>
        <p>パスワード：<span id="password-display"></span></p>
        <p></p>
        <p>パスワードを入力するまで、このページを閉じないでください。</p>
        <p>※一度このページを閉じると、上記のパスワードは表示できません。</p>
    </div>

    <script src="script.js"></script>
</body>
</html>
